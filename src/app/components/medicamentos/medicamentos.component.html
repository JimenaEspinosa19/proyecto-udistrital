<div class="content mat-elevation-z8" style="color: rgb(4, 4, 4); background-color: #f3ecec;">

  <div class="max-w-md mx-auto bg-white p-10 shadow-md rounded-md">
      <h2 class="text-xl font-semibold mb-4">Búsqueda de medicamentos</h2>
      <form>
   

          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="medicamentoInput">Buscar medicamento:</label>
            <input class="w-full px-3 py-2 border rounded-md text-sm" type="text" id="medicamentoInput" [formControl]="medicamentoControl">
            <div class="autocomplete-options"*ngIf="medicamentosFiltrados | async as filteredMedicamentos">
              <ul  class="autocomplete-options" >
                <li class="autocomplete-option"   *ngFor="let medicamento of filteredMedicamentos" (click)="selectMedicamento(medicamento)">
                  {{ medicamento.nmedicamento }}
                </li>
              </ul>
            </div>
          </div>

          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="entidad">Entidad</label>
            <select id="entidad" name="entidad" [(ngModel)]="entidad" class="w-full px-3 py-2 border rounded-md text-sm" (change)="actualizarDireccionesPorEntidad(entidad)">
              <option value="Audifarma">Audifarma</option>
              <option value="Colsubsidio">Colsubsidio</option>
              <option value="Cruz Verde">Cruz Verde</option> 
            </select>
          </div>
          
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="direccion">Dirección</label>
            <select id="direccion" name="direccion" [(ngModel)]="direccionSeleccionada" class="w-full px-3 py-2 border rounded-md text-sm">
                <ng-container *ngIf="direcciones && direcciones.length">
                  <option *ngFor="let dir of direcciones" [value]="dir">{{ dir }}</option>
                </ng-container>
              </select>
          </div>
          <div class="flex justify-center">
            <button type="button" (click)="buscarMedicamento()" class="bg-blue-600 text-white px-10 py-1 rounded-md text-sm">Buscar</button>

          </div>
  
          <div *ngIf="mensajeDisponibilidad !== ''" class="text-blue-600 text-xs mt-2">
  
            <p>{{ mensajeDisponibilidad }}</p>
            <div class="flex justify-center">
            <button type="button" *ngIf="medicamentoDisponible" class="bg-blue-600 text-white px-10 py-1 rounded-md text-sm" (click)="reservarMedicamento()">Reservar</button>
          </div>
          </div>
        </form>
      </div>
  </div>
    