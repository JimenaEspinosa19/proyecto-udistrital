<div class="content mat-elevation-z8" style="color: rgb(4, 4, 4); background-color: #f3ecec;">
  <div class="max-w-md mx-auto bg-white p-10 shadow-md rounded-md">
    <h2 class="text-xl font-semibold mb-4">Búsqueda de medicamentos</h2>
    <form>

      <div class="flex mb-4">
        <div class="w-1/2 mr-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="medicamentoInput">Medicamento:</label>
          <input [(ngModel)]="nmedicamento" class="w-full px-3 py-2 border rounded-md text-sm" type="text" id="medicamentoInput" [formControl]="medicamentoControl">
          <div class="autocomplete-options"*ngIf="medicamentosFiltrados | async as filteredMedicamentos">
            <ul class="autocomplete-options">
              <li class="autocomplete-option" *ngFor="let medicamento of filteredMedicamentos" (click)="selectMedicamento(medicamento)">
                {{ medicamento.Nombre }}
              </li>
            </ul>
          </div>
        </div>

        <div class="w-1/4 mr-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="cantidad">Cantidad:</label>
          <input name="cantidad" [(ngModel)]="cantidad"  class="w-full px-3 py-2 border rounded-md text-sm" type="number" id="text" >
        </div>

      </div>
    
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="ciudad">Ciudad</label>
          <select name="ciudad" [(ngModel)]="ciudad" class="w-full px-3 py-2 border rounded-md text-sm" (change)="onChangeCiudad($event)">
            <option *ngFor="let ciudad of ciudades">{{ ciudad }}</option>
          </select>
        </div>
      

      
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="eps">EPS</label>
        <select name="ciudad" [(ngModel)]="eps" class="w-full px-3 py-2 border rounded-md text-sm" (change)="onChangeEPS(eps)">
          <option *ngFor="let eps of epsSeleccionada">{{ eps }}</option>
        </select>
      </div>
  

      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="entidad">Entidad</label>
        <select id="entidad" name="entidad" [(ngModel)]="entidad" class="w-full px-3 py-2 border rounded-md text-sm" (change)="onChangeEntidad(entidad)">
          <option *ngFor="let entidad of entidades">{{ entidad }}</option>
        </select>
      </div>

    
      <div class="mb-4 flex items-center">
  <div class="w-3/4 mr-4">
    <label class="block text-gray-700 text-sm font-bold mb-2" for="direccion">Dirección</label>
    <select id="direccion" name="direccion" [(ngModel)]="direccionSeleccionada" class="w-full px-3 py-2 border rounded-md text-sm">
      <option *ngFor="let dir of direccionesFiltradas" [value]="dir">{{ dir }}</option>
    </select>
  </div>

        

  
  <div class="w-1/">
    <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm" (click)="verUbicacion()">
      <i class="material-icons">location_on</i> 
    </button>
  </div>
      </div>

<div class="flex justify-center">
  <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm" (click)="buscarMedicamento()">
    Buscar
  </button>
</div>

      <div *ngIf="mensajeDisponibilidad !== ''" class="text-blue-600 text-xs mt-2">
        <p>{{ mensajeDisponibilidad }}</p>
        <div class="flex justify-center">
          <button type="button" *ngIf="medicamentoDisponible" class="bg-blue-600 text-white px-5 py-5 rounded-md text-sm" (click)="reservarMedicamento()">Reservar</button>
        </div>
      </div>

      <div *ngIf="mostrarBotonesNotificacionYPuntos" class="opciones-adicionales">
        <div class="flex justify-center">
          <button type="button" *ngIf="mostrarBotonesNotificacionYPuntos" class="bg-blue-600 text-white px-3 py-2 rounded-md text-sm mr-2" (click)="verOtrosPuntosCercanos()">Ver otros puntos</button>
          <button type="button" *ngIf="mostrarBotonesNotificacionYPuntos" class="bg-blue-600 text-white px-3 py-2 rounded-md text-sm" (click)="solicitarNotificacion()">Notificación</button>
        </div>
      </div>
    </form>
  </div>

</div>
